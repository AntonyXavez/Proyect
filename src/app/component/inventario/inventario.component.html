<div class="container main-container">

  <div class="d-flex justify-content-between">
    <h1>Inventario</h1>
  </div>

  <div class="form-group row">
    <label class="col-sm-2 col-form-label">Categoria:</label>
    <div class="col-sm-6">
      <select (change)="ShowCate()" class="form-control" [(ngModel)]="category.id" name="category">
        <option [value]="-1"></option>
        <option *ngFor="let k of categoriesList | keys | sortingCompanies:path:1" [value]="k">
          {{ categoriesList[k].name }}
        </option>
      </select>
    </div>
  </div>

  <div *ngFor="let category of categoriesListK">
    <div *ngIf="category.category.name == name || name == null">
      <h2 *ngIf="category.category.name == name || name == null">Categoria: {{ category.category.name }} </h2>
      <h3 *ngIf="category.category.name == name || name == null">Total de Productos: {{ getsum( category.key, productosListK ) }}</h3>
      <br>
      <table *ngIf="category.category.name == name || name == null" class="table table-bordered">
        <thead class="thead-inverse">
          <tr>
            <th>Nombre</th>
            <th>Precio</th>
            <th>Stock</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let product of productosListK | sortingCompanies:path:1; let i = index">
            <td *ngIf="product.product.categoryId === category.key">{{ product.product.name }}</td>
            <td *ngIf="product.product.categoryId === category.key">{{ product.product.price | currency: 'EUR' }}</td>
            <td *ngIf="product.product.categoryId === category.key">{{ product.product.stock }}</td>

          </tr>
        </tbody>
      </table>
      <br>
      <br>
      <br>
    </div>
  </div>

</div>
